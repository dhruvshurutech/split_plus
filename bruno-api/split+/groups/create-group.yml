info:
  name: create-group
  type: http
  seq: 2

http:
  method: POST
  url: "{{base_url}}/groups"
  headers:
    - name: Authorization
      value: "Bearer {{access_token}}"
  body:
    type: json
    data: |-
      {
        "name": "Jaipur - Udaipur",
        "description": "Trip to the cities",
        "currency_code": "INR"
      }
  auth: none

settings:
  encodeUrl: true
  timeout: 0
  followRedirects: true
  maxRedirects: 5

docs: |
  # Create Group

  Creates a new group and automatically adds the creator as an owner.

  ## Authentication
  Requires `Authorization: Bearer {access_token}` header with a valid JWT token.

  ## Request Body
  - `name` (required): Group name (1-100 characters)
  - `description` (optional): Group description (max 500 characters)
  - `currency_code` (optional): 3-letter currency code (e.g., "USD", "EUR")
  - `default_split_method` (optional): Default split method ("equal", "percentage", "shares", "fixed")

  ## Response
  Returns the created group with:
  - `group`: Group object
    - `id`: Group UUID (save this to `group_id` variable for group-specific requests)
    - `name`: Group name
    - `description`: Group description
    - `currency_code`: Currency code
    - `default_split_method`: Default split method
    - `created_at`: Group creation timestamp
    - `created_by`: Creator's UUID
  - `membership`: Membership object
    - `id`: Membership UUID
    - `group_id`: Group UUID
    - `user_id`: User UUID
    - `role`: Creator's role (always "owner")
    - `status`: Membership status (always "active")
    - `joined_at`: Join timestamp

  ## Status Codes
  - `201 Created`: Group successfully created
  - `401 Unauthorized`: Missing or invalid access token
  - `422 Unprocessable Entity`: Invalid group name
  - `400 Bad Request`: Invalid request data

  ## Notes
  After creating a group, copy the `group.id` from the response and set it as the `group_id` environment variable.
